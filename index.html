<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>LiveSwiper</title>
    <link rel="icon" type="image/svg+xml" href="img/fav.svg">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/streamBox.css">
    <link rel="stylesheet" href="css/toolbar.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/navBars.css">
    <link rel="stylesheet" href="css/sidebar.css">

    <link rel="stylesheet" href="http://cdn.kendostatic.com/2015.2.624/styles/kendo.common-bootstrap.min.css"/>
    <link rel="stylesheet" href="http://cdn.kendostatic.com/2015.2.624/styles/kendo.bootstrap.min.css"/>
    <link rel="stylesheet" href="css/settings.css">

    <script src="js/jquery.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/angular-local-storage.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="http://cdn.kendostatic.com/2015.2.624/js/kendo.all.min.js"></script>
</head>
<body style="background-color: #3e3e3e">

<div id="site-header">
    <img style="height: 45px; " src="img/Liveguide_Logotype.svg">
</div>

<div ng-app="LiveSwiper" ng-controller="customersCtrl" resize ng-cloak>
    <div id="sidebar">
        <img src='img/ServiceIcon{{response.service_s}}28.png'/>
        <br>
        <img src='{{response.profilePic_s === undefined ? "img/UserIcon.png" : response.profilePic_s }}'/>
        <br>
        <a href="https://www.facebook.com/liveguideapp">
            <img src="img/FacebookIcon.png"/>
        </a>
        <br>
        <a href="https://twitter.com/liveguideapp">
            <img src="img/TwitterIcon.png"/>
        </a>
    </div>
    <div class="videoWrapper">
        <iframe ng-src="{{embedURL}}" frameborder="0" allowfullscreen class="center-block" style="background: black;">
            Your browser does not support Iframes
        </iframe>
    </div>
    <section id="toolbar" style="text-align: center">
        <div id="description">
            {{title}}
        </div>
        <div id="button-group" ng-show="!showSettings">
            <button ng-click="loadNextStream(userPreferences)" class="btn btn-rounded" id="btn-shuffle">
                Shuffle
            </button>
            <div style="margin-top:2%;">
                <button class="btn btn-rounded btn-preference-like"
                        style='{{like === true ? "background-color:#319329; margin-right: 2%" : "background-color:#37c92d; margin-right: 2%"}}'
                        ng-click="addPreference('tag_s', response.tag_s, 'like'); togglePressed('like')"> Like
                </button>
                <button class="btn btn-rounded btn-preference-dislike"
                        style='{{dislike === true ? "background-color:#a5412a" : "background-color:#D0482E"}}'
                        ng-click="addPreference('tag_s', response.tag_s, 'dislike'); togglePressed('dislike')">
                    Dislike
                </button>
            </div>

        </div>

        <div id="settings" ng-show="showSettings">
            <div id="overlay" class="col-md-12">
            </div>
            <div class="col-md-4 settingsColumn">
                <h6 id="firstHeader">Categories</h6>
                <select kendo-drop-down-list ng-model="categories" class="bigDropDown" k-height="500">
                    <option>All</option>
                    <option>Entertainment</option>
                    <option>Gaming</option>
                    <option>Sports</option>
                    <option>Tech</option>
                    <option>Nature</option>
                </select>

                <h6>Language</h6>
                <select kendo-drop-down-list ng-model="language" class="bigDropDown">
                    <option>All</option>
                    <option value="en">English</option>
                    <option value="de">German</option>
                    <option value="fr">French</option>
                    <option value="sv">Swedish</option>
                    <option value="ru">Russian</option>
                    <option value="bg">Bulgarian</option>
                </select>
            </div>
            <div class="col-md-1 settingsColumn"></div>
            <div class="col-md-2 settingsColumn">
                <h6 id='shuffleHeader'>Shuffle timer</h6>
                <select kendo-drop-down-list ng-model="time" class="smallDropDown">
                    <option>5min</option>
                    <option>10min</option>
                    <option>15min</option>
                    <option>20min</option>
                    <option>30min</option>
                    <option>60min</option>
                    <option>1h 30min</option>
                </select>
                <img id="confirmButton" ng-click="applySettings(); toggleSettings(showSettings)"
                     style="background-color: #020202; border-radius: 50%; padding: 4%; margin-top:15px; cursor: pointer; cursor: hand;"
                     src="img/LiveguideSwipe_Configure_CheckMarkActive_Icon.png"/>
            </div>
            <div class="col-md-1 settingsColumn"></div>
            <div class="col-md-4 settingsColumn" style="color:red; margin-bottom:4% ">
                <h6>Viewers</h6>

                <div kendo-range-slider="viewersSlider" ng-model="viewers" k-scope-field="viewersSlider"
                     k-tooltip="{ enabled: true, template: viewersTemplate}" k-tick-placement="'none'"
                     k-max="viewersMax" k-on-change='evaluateForRebinding(viewers[1], viewersMax, "viewers", increment)'
                     k-rebind="viewersRebind"
                     k-selection-end="viewersMax === initialValue ? viewersMax*(4/5) : viewersMax/increment"
                     k-small-step="viewersStep"
                     class="slider">
                    <input>
                    <input ng-model="test">
                </div>

                <h6>Uptime</h6>

                <div kendo-range-slider="uptimeSlider" ng-model="uptime"
                     k-tooltip='{ enabled: true, template: uptimeTemplate}'
                     k-tick-placement="'none'"
                     k-max="uptimeMax" k-on-change='evaluateForRebinding(uptime[1], uptimeMax, "uptime", increment)'
                     k-rebind="uptimeRebind"
                     k-selection-end="uptimeMax === initialValue ? uptimeMax*(4/5) : uptimeMax/increment"
                     k-small-step="uptimeStep"
                     class="slider">
                    <input>
                    <input ng-model="test">
                </div>
            </div>
        </div>

        <div id="settingsToggleButton" style="text-align: center; "
             ng-click='toggleSettings(showSettings); applySettings()'>
            <img src='{{settingsIcon}}'/>
        </div>
    </section>
</div>

<footer id="site-footer">
    <a href="http://liveguide.info/" style="text-decoration: none;"> Liveguide Â© 2015 </a>
</footer>

<script src="js/main.js"></script>
<script src="streamInfo/directive.js"></script>
<script src="modal/directive.js"></script>
<script>

    $(document).ready(function () {
        start();
    });

    //Hacky workaround for a bug in Kendo Slider where tooltip doesn't go away when scaling down
    function start() {
        var tooltip = $('.k-tooltip');

        if (tooltip.length !== 0 && tooltip.text() === '0 - 0') {
            tooltip.remove();
        }

        setTimeout(start, 1000);
    }

</script>

</body>
</html>